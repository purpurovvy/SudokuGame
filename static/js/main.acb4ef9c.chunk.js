(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{33:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"Button",(function(){return qe})),t.d(r,"Card",(function(){return Ye})),t.d(r,"Content",(function(){return $e})),t.d(r,"Title",(function(){return Qe})),t.d(r,"GridContainer",(function(){return We})),t.d(r,"CardTitle",(function(){return Xe})),t.d(r,"DefaultText",(function(){return Ze})),t.d(r,"ContentHorizontal",(function(){return en}));var o,i,c,a,l,u,d,s,f,b,j,h,v,O,m,g,p,x,k,y,w,C,T,A,z,S,V=t(0),G=t.n(V),I=t(11),B=t.n(I),M=t(4),E=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),i(e),c(e)}))},L=t(14),P=t(17),D=t(6),_=t(5),F=t(12),N={counter:0,blocksAmount:81},R=[1,2,3,4,5,6,7,8,9],K=function e(n){for(var t=0,r=0,o=0;o<N.blocksAmount;o++)if(r=o%9,0===n[t=Math.floor(o/9)][r]){Q(R);var i,c=Object(F.a)(R);try{for(c.s();!(i=c.n()).done;){var a=i.value;if(!q({grid:n,row:t,value:a})&&!J({col:r,grid:n,value:a})){var l=U({col:r,grid:n,row:t});if(!Y({square:l,value:a})){if(n[t][r]=a,$(n))return n;if(e(n))return n}}}}catch(u){c.e(u)}finally{c.f()}break}n[t][r]=0},U=function(e){var n=e.col,t=e.grid,r=e.row,o=function(e,n){return e.push([t[n][0],t[n][1],t[n][2]])},i=function(e,n){return e.push([t[n][3],t[n][4],t[n][5]])},c=function(e,n){return e.push([t[n][6],t[n][7],t[n][8]])},a=[];if(r<3)if(n<3)for(var l=0;l<3;l++)o(a,l);else if(n<6)for(var u=0;u<3;u++)i(a,u);else for(var d=0;d<3;d++)c(a,d);else if(r<6)if(n<3)for(var s=3;s<6;s++)o(a,s);else if(n<6)for(var f=3;f<6;f++)i(a,f);else for(var b=3;b<6;b++)c(a,b);else if(n<3)for(var j=6;j<9;j++)o(a,j);else if(n<6)for(var h=6;h<9;h++)i(a,h);else for(var v=6;v<9;v++)c(a,v);return a},H=function(e){var n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];return e&&ie(e,n),n},J=function(e){for(var n=e.col,t=e.grid,r=e.value,o=0;o<9;o++)if(r===t[o][n])return!0;return!1},q=function(e){var n=e.grid,t=e.row,r=e.value;return n[t].includes(r)},Y=function(e){var n=e.square,t=e.value;return[].concat(Object(D.a)(n[0]),Object(D.a)(n[1]),Object(D.a)(n[2])).includes(t)},$=function(e){for(var n=0;n<9;n++)for(var t=0;t<9;t++)if(0===e[n][t])return!1;return!0},Q=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}},W=function(){return Math.floor(Math.random()*Math.floor(9))},X=function(e){return e.map((function(e){return e.slice()}))},Z=[1,2,3,4,5,6,7,8,9],ee=function e(n){for(var t=0,r=0,o=0;o<N.blocksAmount;o++)if(r=o%9,0===n[t=Math.floor(o/9)][r]){var i,c=Object(F.a)(Z);try{for(c.s();!(i=c.n()).done;){var a=i.value;if(!q({grid:n,row:t,value:a})&&!J({col:r,grid:n,value:a})){var l=U({col:r,grid:n,row:t});if(!Y({square:l,value:a})){if(n[t][r]=a,$(n)){N.counter++;break}if(e(n))return!0}}}}catch(u){c.e(u)}finally{c.f()}break}n[t][r]=0},ne=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;n>0;){for(var t=W(),r=W();0===e[t][r];)t=W(),r=W();var o=e[t][r];e[t][r]=0;var i=X(e);N.counter=0,ee(i),1!==N.counter&&(e[t][r]=o,n--)}return e},te=function e(n,t){if(!Array.isArray(n)&&!Array.isArray(t))return n===t;if(n.length!==t.length)return!1;for(var r=0,o=n.length;r<o;r++)if(!e(n[r],t[r]))return!1;return!0},re=/(^\[[0-8]\]\[[0-8]\]$)/g,oe=/\D+/g,ie=function(e,n){e.forEach((function(e){var t=e.replace(oe,"");if(3===t.length){var r=t.charAt(0),o=t.charAt(1),i=t.charAt(2);n[r][o]=parseInt(i)}}))},ce="CREATE_GRID",ae="SELECT_BLOCK",le="UNSELECT_BLOCK",ue="FILL_BLOCK",de="ENABLE_VALIDATION",se="DISABLE_VALIDATION",fe="DISPLAY_SUDOKU_TEMPLATE",be="HIDE_SUDOKU_TEMPLATE ",je={},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ce:var t=n.payload,r=H(t),o=K(X(r)),i=o&&!t?ne(X(o)):r,c=X(i),a=!1,l=!1;return Object(_.a)(Object(_.a)({},e),{},{challengeGrid:i,solvedGrid:o,workingGrid:c,isValidationMode:a,isSudokuTemplateOpen:l});case ue:return e.workingGrid&&e.solvedGrid?(e.workingGrid[n.coords[0]][n.coords[1]]=n.value,te(e.workingGrid,e.solvedGrid)&&alert("Completed!"),Object(_.a)(Object(_.a)({},e),{},{workingGrid:Object(D.a)(e.workingGrid)})):e;case ae:return Object(_.a)(Object(_.a)({},e),{},{selectedBlock:n.coords});case le:return Object(_.a)(Object(_.a)({},e),{},{selectedBlock:void 0});case de:return Object(_.a)(Object(_.a)({},e),{},{isValidationMode:!0});case se:return Object(_.a)(Object(_.a)({},e),{},{isValidationMode:!1});case fe:return Object(_.a)(Object(_.a)({},e),{},{isSudokuTemplateOpen:!0});case be:return Object(_.a)(Object(_.a)({},e),{},{isSudokuTemplateOpen:!1});default:return e}},ve=function(e){return{type:ce,payload:e}},Oe=function(){return{type:le}},me=function(){return{type:be}},ge=t(2),pe=t(3),xe=Object(ge.b)(o||(o=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(i||(i=Object(pe.a)(["\n    html {\n      font-size: 16px;\n      height: 100vh;\n      max-height: -webkit-fill-available;\n\n      body {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        margin: 0;\n\n        #root {\n          background: ",";\n          color: ",";\n          display: flex;\n          font-family: sans-serif;\n          height: 100%;\n          justify-content: center;\n        }\n      }\n    }\n  "])),n.colors.background,n.colors.black)})),ke=function(e){var n=e.colIndex,t=e.rowIndex,r=function(e,r,o){return!(o&&e&&r)||(r[t][n]===e[t][n]||0===e[t][n])},o=Object(M.c)((function(e){var o=e.challengeGrid,i=e.workingGrid,c=e.selectedBlock,a=e.isValidationMode,l=e.solvedGrid;return{isActive:!!c&&(c[0]===t&&c[1]===n),isPuzzle:!(!o||0===o[t][n]),value:i?i[t][n]:0,isValid:r(i,l,a)}})),i=Object(M.b)();return{handleClick:function(){o.isActive||o.isPuzzle||i({coords:[t,n],type:ae}),o.isActive&&!o.isPuzzle&&i(Oe())},isActive:o.isActive,isPuzzle:o.isPuzzle,isValid:o.isValid,value:o.value}},ye=ge.d.div(c||(c=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.isActive,t=e.isPuzzle,r=e.isValid,o=e.theme;return Object(ge.c)(a||(a=Object(pe.a)(["\n    align-items: center;\n    background-color: ",";\n    border: solid 0.0625rem ",";\n    cursor: pointer;\n    display: flex;\n    flex-grow: 1;\n    flex-shrink: 0;\n    flex-basis: 0;\n    font-size: 1.25rem;\n    font-weight: ",";\n    color: ",";\n    height: auto;\n    justify-content: center;\n    transition: ",";\n    user-select: none;\n    position: relative;\n\n    &:before {\n      padding-top: 100%;\n      content: '';\n      float: left;\n    }\n\n    &:hover {\n      background-color: ",";\n      cursor: ",";\n    }\n  "])),t?o.colors.darkgray:n?o.colors.blue:o.colors.white,o.colors.black,t?"bold":"normal",r?t?"white":"black":"red",o.transition,!t&&o.colors.lightBlue,t&&"not-allowed")})),we=t(1),Ce=function(e){var n=e.colIndex,t=e.rowIndex,r=ke({colIndex:n,rowIndex:t}),o=r.handleClick,i=r.isActive,c=r.isPuzzle,a=r.isValid,l=r.value;return Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)(ye,{isActive:i,onClick:o,isPuzzle:c,isValid:a,children:[0===l?"":l,i&&Object(we.jsx)(Ve,{})]})})},Te=function(){var e=Object(M.c)((function(e){return{solvedGrid:e.solvedGrid}})),n=Object(M.b)(),t=Object(V.useCallback)((function(){return n(ve())}),[n]);return{solvedGrid:e.solvedGrid,createGrid:t}},Ae=ge.d.div(l||(l=Object(pe.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0.625rem 0;\n"]))),ze=ge.d.div(u||(u=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(d||(d=Object(pe.a)(["\n    display: flex;\n    flex-flow: row;\n\n    &:nth-child(1) {\n      & > div {\n        border-top: solid 0.25rem ",";\n      }\n    }\n    &:nth-child(3),\n    &:nth-child(6) {\n      & > div {\n        border-bottom: solid 0.1875rem ",";\n      }\n    }\n    &:nth-child(9) {\n      border-bottom: solid 0.25rem ",";\n    }\n\n    & > div {\n      &:nth-child(1) {\n        border-left: solid 0.25rem ",";\n      }\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9) {\n        border-right: solid 0.25rem ",";\n      }\n      &:nth-child(4),\n      &:nth-child(7) {\n        border-left: none;\n      }\n    }\n  "])),n.colors.black,n.colors.black,n.colors.black,n.colors.black,n.colors.black)})),Se=function(){var e=Te(),n=e.solvedGrid,t=e.createGrid;return Object(V.useEffect)((function(){n||t()}),[t,n]),Object(we.jsx)(Ae,{children:V.Children.toArray(Object(D.a)(Array(9)).map((function(e,n){return Object(we.jsx)(ze,{children:V.Children.toArray(Object(D.a)(Array(9)).map((function(e,t){return Object(we.jsx)(Ce,{colIndex:t,rowIndex:n})})))})})))})},Ve=function(){return Object(we.jsx)(r.GridContainer,{children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(we.jsx)(Ie,{value:e},e)}))})},Ge=function(e){var n=e.value,t=Object(M.c)((function(e){var n=e.selectedBlock,t=e.workingGrid;return{selectedBlock:n,selectedValue:t&&n?t[n[0]][n[1]]:0}})),r=Object(M.b)();return{fill:Object(V.useCallback)((function(){t.selectedBlock&&r(function(e,n){return{coords:n,type:ue,value:e}}(n,t.selectedBlock))}),[r,t.selectedBlock,n])}},Ie=function(e){var n=e.value,t=Ge({value:n}).fill;return Object(we.jsx)(r.Button,{onClick:t,children:n})},Be=function(){var e=Object(M.c)((function(e){return{isValidationMode:e.isValidationMode}})),n=Object(M.b)();return{toggleValidation:function(){e.isValidationMode?n({type:se}):n({type:de})},isValidationMode:e.isValidationMode}},Me=function(){var e=Be(),n=e.toggleValidation,t=e.isValidationMode;return Object(we.jsx)(r.Button,{onClick:n,children:t?"Validate: ON":"Validate: OFF"})},Ee=ge.d.div(s||(s=Object(pe.a)(["\n  width: 100%;\n  height: auto;\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Le=ge.d.textarea(f||(f=Object(pe.a)(["\n  margin: 0.5rem;\n  border: solid 0.125rem black;\n  resize: none;\n  width: 100%;\n  min-height: 50vh;\n  overflow-x: hidden;\n"]))),Pe=ge.d.form(b||(b=Object(pe.a)(["\n  display: flex;\n  flexdirection: column;\n"]))),De=t(15),_e=function(){var e,n=Object(V.useState)(""),t=Object(De.a)(n,2),r=t[0],o=t[1],i=Object(V.useState)('{\n    "[1][1]": 1,\n    "[1][2]": 2,\n    "[5][5]": 6,\n    "[4][7]": 9\n}'),c=Object(De.a)(i,2),a=c[0],l=c[1],u=Object(M.b)(),d=(e=re,function(n){var t=n&&n.match(e);return!n||!!t}),s=function(e){var n=0,t=9;return Object.keys(e).filter((function(e){return d(e)})).filter((function(r){var o=parseInt(e[r]);return o>=n&&o<=t})).map((function(n){return"".concat(n,":").concat(e[n])}))};return{template:a,errorMessage:r,submitCustomTemplate:function(e){o(""),null===e||void 0===e||e.preventDefault();var n=function(e){try{var n=JSON.parse(e),t=s(n);if(0===Object.keys(t).length)throw"Input doesn't have valid values";return t}catch(r){o("string"===typeof r?r:"Your template doesn't fit schema"),console.error(r)}}(a);n&&u(ve(n))},handleTextInputChange:function(e){l(e.target.value)},closeCard:function(){u(me())}}},Fe=function(){var e=_e(),n=e.template,t=e.errorMessage,o=e.submitCustomTemplate,i=e.handleTextInputChange,c=e.closeCard;return Object(we.jsx)(Ee,{children:Object(we.jsxs)(r.Card,{children:[Object(we.jsx)(Je,{mode:"error",isVisible:!!t,label:t}),Object(we.jsx)(r.CardTitle,{children:"Paste your Sudoku template"}),Object(we.jsx)(r.DefaultText,{children:"You can import your own sudoku template! Remember to provide right schema in JSON format. See example below."}),Object(we.jsx)(Pe,{children:Object(we.jsx)(Le,{onChange:i,value:n})}),Object(we.jsxs)(r.ContentHorizontal,{children:[Object(we.jsx)(r.Button,{onClick:o,children:"Import"}),Object(we.jsx)(r.Button,{onClick:c,children:"Cancel"})]})]})})},Ne=function(){var e=Te().createGrid;return Object(we.jsxs)(r.ContentHorizontal,{children:[Object(we.jsx)(r.Button,{onClick:e,children:"New Game"}),Object(we.jsx)(Me,{}),Object(we.jsx)(Ue,{})]})},Re=function(){var e=Object(M.c)((function(e){return{isSudokuTemplateOpen:e.isSudokuTemplateOpen}}));return Object(we.jsxs)(r.Content,{children:[Object(we.jsx)(r.Title,{children:"Sudoku"}),Object(we.jsxs)(r.Card,{children:[Object(we.jsx)(Ne,{}),Object(we.jsx)(Se,{})]}),e.isSudokuTemplateOpen&&Object(we.jsx)(Fe,{})]})},Ke=function(){var e=Object(M.c)((function(e){return{isSudokuTemplateOpen:e.isSudokuTemplateOpen}})),n=Object(M.b)();return{toggleSudokuTemplate:function(){e.isSudokuTemplateOpen?n(me()):n({type:fe}),n(Oe())}}},Ue=function(){var e=Ke().toggleSudokuTemplate;return Object(we.jsx)(r.Button,{onClick:e,children:"Import Template"})},He=ge.d.div(j||(j=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme,t=e.mode,r=e.isVisible;return Object(ge.c)(h||(h=Object(pe.a)(["\n    width: 90%;\n    height: 2rem;\n    background-color: ",";\n    color: ",";\n    font-weight: bold;\n    border-radius: ",";\n    z-index: 100;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    box-shadow: ",";\n    visibility: ",";\n  "])),"success"===t?n.colors.success:"error"===t?n.colors.error:n.colors.warning,"warning"===t?"black":"white",n.borderRadius,n.shadow,r?"visible":"hidden")})),Je=function(e){var n=e.isVisible,t=e.label,r=e.mode;return Object(we.jsx)(He,{mode:r,isVisible:n,children:t})},qe=ge.d.button(v||(v=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(O||(O=Object(pe.a)(["\n    align-items: center;\n    background-color: ",";\n    border: 0.125rem solid ",";\n    color: ",";\n    cursor: pointer;\n    display: flex;\n    margin: 0.0625rem;\n    font-size: 1.2rem;\n    font-weight: bold;\n    justify-content: center;\n    opacity: 0.9;\n    transition: ",";\n    flex: 1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "])),n.colors.black,n.colors.black,n.colors.white,n.transition)})),Ye=ge.d.div(m||(m=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(g||(g=Object(pe.a)(["\n    background-color: ",";\n    border-radius: ",";\n    display: flex;\n    flex-direction: column;\n    max-height: fit-content;\n    padding: 1.5rem;\n    box-shadow: ",";\n  "])),n.colors.white,n.borderRadius,n.shadow)})),$e=ge.d.div(p||(p=Object(pe.a)(["\n  height: 100%;\n  max-width: 31.25rem;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n"]))),Qe=ge.d.h1(x||(x=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(k||(k=Object(pe.a)(["\n    color: ",";\n    margin-top: 0;\n    text-align: center;\n  "])),n.colors.white)})),We=ge.d.div(y||(y=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(w||(w=Object(pe.a)(["\n    display: grid;\n    grid-template: repeat(3, 1fr) / repeat(3, 1fr);\n    position: absolute;\n    top: calc(100% + 0.125rem);\n    z-index: 10;\n    background-color: ",";\n    border: solid 0.0625rem ",";\n    padding: 0.25rem;\n    box-shadow: ",";\n  "])),n.colors.white,n.colors.black,n.shadow)})),Xe=ge.d.h1(C||(C=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(T||(T=Object(pe.a)(["\n    color: ",";\n    text-align: center;\n  "])),n.colors.black)})),Ze=ge.d.p(A||(A=Object(pe.a)(["\n  ","\n"])),(function(e){var n=e.theme;return Object(ge.c)(z||(z=Object(pe.a)(["\n    color: ",";\n    font-size: 1.2rem;\n    line-height: 1.6;\n    text-align: justify;\n  "])),n.colors.black)})),en=ge.d.div(S||(S=Object(pe.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: space-around;\n"]))),nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(L.createStore)(he,e,Object(P.devToolsEnhancer)({}));return n}();B.a.render(Object(we.jsx)(G.a.StrictMode,{children:Object(we.jsxs)(ge.a,{theme:{colors:{background:"radial-gradient(#00a779, #282c34)",black:"#282c34",blue:"#a0e9fd",lightBlue:"#caf3fe",white:"#ffffff",darkgray:"#ababab",warning:"#ffcd38",error:"#f50057",success:"#00a152"},shadow:"0 0.875rem 1.75rem rgba(0,0,0,0.25), 0 0.625rem 0.625rem rgba(0,0,0,0.22)",transition:"0.3s",borderRadius:"1rem"},children:[Object(we.jsx)(xe,{}),Object(we.jsx)(M.a,{store:nn,children:Object(we.jsx)(Re,{})})]})}),document.getElementById("root")),E()}},[[33,1,2]]]);
//# sourceMappingURL=main.acb4ef9c.chunk.js.map